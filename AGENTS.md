# AGENTS Instructions

This repository contains a small web application for calculating Helldivers 2 stratagem and rocket cooldowns.

The app has been migrated to SvelteKit to simplify structure and improve maintainability/testability while keeping the codebase small and approachable.

## Structure
- `svelte/`: SvelteKit app (TypeScript + Tailwind). This is the UI and app runtime.
  - `src/lib/`: Shared modules.
    - `data/`: JSON data imported statically.
    - `rockets/`, `stratagems/`, `upgrades/`: Pure logic and helpers.
    - `stores/`: Svelte stores and persistence utilities.
      - `global.ts`: Global mission options (e.g., `orbitalFluctuations`) shared across pages.
  - `src/routes/`: Pages (`/stratagems`, `/rockets`) and layout.
  - `static/`: Static assets served at root (e.g., `/images/...`).
- `tests/`: Node `--test` suites for pure logic (rockets, upgrades).
- Root `package.json`: test runner and convenience scripts for building/running the Svelte app.

Legacy directories (`js/`, `css/`, `data/`, `index.html`) are removed as part of the migration.

## Running the App
- Development server:
  - From repo root: `npm run dev`
  - This runs `vite dev` in `svelte/` with hot reload.
- Production build:
  - From repo root: `npm run build`
  - Output is a static site generated by `@sveltejs/adapter-static` in `svelte/build/`.
- Preview production build:
  - From repo root: `npm run preview`

## Testing
- Ensure Node 20+ is installed.
- Run logic tests:
  ```bash
  npm test
  ```
  Tests import TypeScript directly using `tsx`, and validate pure functions in `svelte/src/lib`.

## Development Notes
- TypeScript is used to keep functions typed and readable.
- Tailwind keeps styles simple; prefer utility classes, fall back to component styles as needed.
- Data is imported statically (no runtime fetch) for a fully static build.
- If structural changes are made, update this document accordingly.
